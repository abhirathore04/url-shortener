# =============================================================================
# URL Shortener Service Configuration
# =============================================================================
# Copy this file to .env and fill in actual values for local development
# NEVER commit .env file - it contains secrets!

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
PORT=8080
NODE_ENV=development
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Database Configuration  
# -----------------------------------------------------------------------------
# MongoDB connection string
MONGO_URI=mongodb://mongo:27017/shortener

# Redis connection string for caching and rate limiting
REDIS_URL=redis://redis:6379

# Database connection pool settings
MONGO_MAX_POOL_SIZE=10
REDIS_MAX_CONNECTIONS=10

# -----------------------------------------------------------------------------
# Security & Secrets
# -----------------------------------------------------------------------------
# JWT secret for token signing (generate a strong random string)
JWT_SECRET=your-jwt-secret-here-change-this-in-production

# API rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# Observability & Monitoring
# -----------------------------------------------------------------------------
# OpenTelemetry configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=url-shortener
OTEL_SERVICE_VERSION=0.1.0
OTEL_RESOURCE_ATTRIBUTES=service.name=url-shortener,service.version=0.1.0

# Logging configuration
LOG_FORMAT=json
LOG_INCLUDE_CALLER=true

# Health check configuration
HEALTH_CHECK_TIMEOUT_MS=5000

# -----------------------------------------------------------------------------
# Business Logic Configuration
# -----------------------------------------------------------------------------
# URL shortening configuration
SHORT_URL_LENGTH=7
SHORT_URL_ALPHABET=abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789
URL_TTL_DAYS=365

# Validation rules
MAX_URL_LENGTH=2048
MIN_URL_LENGTH=10

# -----------------------------------------------------------------------------
# External Services (for future use)
# -----------------------------------------------------------------------------
# Email service (for notifications)
EMAIL_SERVICE_API_KEY=your-email-service-api-key-here
EMAIL_FROM_ADDRESS=noreply@yourservice.com

# Analytics service (for metrics)
ANALYTICS_API_KEY=your-analytics-api-key-here

# -----------------------------------------------------------------------------
# Development & Testing
# -----------------------------------------------------------------------------
# Enable debug features in development
ENABLE_DEBUG_ROUTES=true
ENABLE_METRICS_ENDPOINT=true
ENABLE_HEALTH_DETAILED=true

# Test database (for running tests)
TEST_MONGO_URI=mongodb://mongo:27017/shortener_test
TEST_REDIS_URL=redis://redis:6379/1
